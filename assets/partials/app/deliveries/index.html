<div ng-controller="awesomeCRM.deliveries.indexController">
  <div class="page-title">
    <div class="title">
      <h3>Deliveries</h3>
    </div>
  </div>
  <div class="clearfix"></div>

  <div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
      <div class="x_panel">
        <div class="x_content">
          <table class="table">
            <thead>
            <tr>
              <th>ID</th>
              <th>Products</th>
              <th>Start Date</th>
              <th>End Date</th>
              <th>Tracking</th>
              <th>State</th>
              <th class="actions">Actions</th>
            </tr>
            </thead>
            <tbody>
            <tr class="clickable" ng-click="edit(i)" ng-repeat="i in deliveries">
              <td>{{i.id}}</td>
              <td>
                <ul class="list-group">
                  <li ng-repeat="i in i.products" class="list-group-item">
                    {{i.name}}
                  </li>
                </ul>
              </td>
              <td>{{i.startDate | amDateFormat:'ddd, MMM Do YYYY, h:mm a'}}</td>
              <td>{{i.endDate | amDateFormat:'ddd, MMM Do YYYY, h:mm a'}}</td>
              <td>{{i.tracking}}</td>
              <td>{{i.state}}</td>
              <td class="text-right">
                <div class="btn-group">
                  <a ng-if="i.id" class="btn btn-info" ng-click="$event.stopPropagation()" href="/export/delivery/{{i.id}}" target="_blank">Export to PDF</a>
                  <a ng-if="i.id" class="btn btn-danger" href confirm="{{'DELETE_CONFIRMATION' | translate:{title: 'delivery ' + i.id} }}" ng-click="delete(i)">Delete</a>
                </div>
              </td>
            </tr>
            </tbody>
          </table>
          <div class="pull-right">
            <a ng-if="sale.state == 'Order'" class="btn btn-default" href ng-click="add()">Create New Delivery</a>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
